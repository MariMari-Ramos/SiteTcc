<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ficha F&M - Feiticeiros e Maldi√ß√µes</title>
    <link rel="stylesheet" href="style_melhorado.css">
</head>
<body>
    <!-- Header Principal com Navega√ß√£o -->
    <header class="header page-theme-teal">
        <div class="header-content">
            <div class="header-left">
                <h1 class="title">‚ö° Feiticeiros & Maldi√ß√µes</h1>
                <span class="subtitle">Sistema de RPG v2.0</span>
            </div>

            <div class="page-indicator">
                <span class="page-dot active" title="Informa√ß√µes B√°sicas"></span>
                <span class="page-dot" title="Per√≠cias"></span>
                <span class="page-dot" title="Combate"></span>
                <span class="page-dot" title="Habilidades"></span>
                <span class="page-dot" title="Perfil Amaldi√ßoado"></span>
                <span class="page-dot" title="T√©cnica"></span>
                <span class="page-dot" title="Invoca√ß√µes"></span>
            </div>

            <div class="header-actions" >
                <button type="submit" id="save-btn" class="btn btn--sm btn--secondary" title="Salvar Ficha" action="Ficha_F&M" method="post">üíæ Salvar</button>
                <button type="button" id="clear-btn" class="btn btn--sm btn--secondary" title="Limpar Ficha">üóëÔ∏è Limpar</button>
                <button type="button" id="export-btn" class="btn btn--sm btn--secondary" title="Exportar/Imprimir">üìÑ Exportar</button>
            </div>
        </div>
    </header>
    <form id="character-form" action="Ficha_F&M.php" method="POST">
    <!-- Container Principal -->
    <div class="container">

        <!-- ===== P√ÅGINA 1: INFORMA√á√ïES B√ÅSICAS ===== -->
        <div id="page-1" class="page active">
            <h2 class="section-header">üìã Informa√ß√µes B√°sicas do Personagem</h2>

            <div class="card section-border-teal">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="char-name">Nome do Personagem</label>
                        <input type="text" id="char-name" class="form-control" placeholder="Digite o nome..." name="char-name">
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="level">N√≠vel</label>
                        <input type="number" id="level" min="1" max="20" value="1" class="form-control" name="level">
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="proficiency-bonus">B√¥nus de Maestria</label>
                        <input type="text" id="proficiency-bonus" readonly value="+2" class="form-control" name="proficiency-bonus">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="origin">Origem</label>
                        <select id="origin" name="origin" class="form-control styled-select">
                            <option value="">Selecione...</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="specialization">Especializa√ß√£o</label>
                        <select id="specialization" name="specialization" class="form-control styled-select">
                            <option value="">Selecione...</option>
                        </select>
                    </div>
                </div>
            </div>

            <h2 class="section-header">üí™ Atributos</h2>

            <div class="attribute-grid card section-border-teal">
                <div class="attribute-box">
                    <div class="attribute-name">For√ßa</div>
                    <input type="number" id="str" value="10" min="0" max="30" class="form-control attribute-value" name="str">
                    <div class="attribute-modifier">Modificador: <span id="str-mod" class="mod">+0</span></div>
                </div>

                <div class="attribute-box">
                    <div class="attribute-name">Destreza</div>
                    <input type="number" id="dex" value="10" min="0" max="30" class="form-control attribute-value" name="dex">
                    <div class="attribute-modifier">Modificador: <span id="dex-mod" class="mod">+0</span></div>
                </div>

                <div class="attribute-box">
                    <div class="attribute-name">Constitui√ß√£o</div>
                    <input type="number" id="con" value="10" min="0" max="30" class="form-control attribute-value" name="con">
                    <div class="attribute-modifier">Modificador: <span id="con-mod" class="mod">+0</span></div>
                </div>

                <div class="attribute-box">
                    <div class="attribute-name">Sabedoria</div>
                    <input type="number" id="wis" value="10" min="0" max="30" class="form-control attribute-value" name="wis">
                    <div class="attribute-modifier">Modificador: <span id="wis-mod" class="mod">+0</span></div>
                </div>

                <div class="attribute-box">
                    <div class="attribute-name">Intelig√™ncia</div>
                    <input type="number" id="int" value="10" min="0" max="30" class="form-control attribute-value" name="int">
                    <div class="attribute-modifier">Modificador: <span id="int-mod" class="mod">+0</span></div>
                </div>

                <div class="attribute-box">
                    <div class="attribute-name">Carisma</div>
                    <input type="number" id="cha" value="10" min="0" max="30" class="form-control attribute-value" name="cha">
                    <div class="attribute-modifier">Modificador: <span id="cha-mod" class="mod">+0</span></div>
                </div>
            </div>

            <h2 class="section-header">üõ°Ô∏è Classe de Armadura</h2>

            <div class="card section-border-teal">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="ac-natural">Natural</label>
                        <input type="number" id="ac-natural" value="10" class="form-control" name="ac-natural">
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="ac-armor">Uniforme</label>
                        <input type="number" id="ac-armor" value="0" class="form-control" name="ac-armor">
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="ac-shield">Escudo</label>
                        <input type="number" id="ac-shield" value="0" class="form-control" name="ac-shield">
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="ac-dex">Destreza</label>
                        <input type="number" id="ac-dex" value="0" readonly class="form-control" name="ac-dex">
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="ac-other">Outros</label>
                        <input type="number" id="ac-other" value="0" class="form-control" name="ac-other">
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="ac-total"><strong>Total CA</strong></label>
                        <input type="number" id="ac-total" value="10" readonly class="form-control" style="font-weight: bold; font-size: 1.2em;" name="ac-total">
                    </div>
                </div>
            </div>

            <!-- Navega√ß√£o -->
            <div class="navigation">
                <button id="prev-btn" type="button" class="btn btn--secondary" onclick="previousPage()" disabled>‚Üê Anterior</button>
                <span class="page-info">P√°gina <span id="current-page">1</span> de <span id="total-pages">7</span></span>
                <button id="next-btn" type="button" class="btn btn--primary" onclick="nextPage()">Pr√≥xima ‚Üí</button>
            </div>
        </div>

        <!-- ===== P√ÅGINA 2: PER√çCIAS ===== -->
        <div id="page-2" class="page">
            <h2 class="section-header section-border-purple">üéØ Per√≠cias</h2>

            <div class="card section-border-purple">
                <h3> Per√≠cias de For√ßa</h3>
                <div class="skill-row">
                    <label><input type="checkbox" id="str-luta-es"> Es</label>
                    <label><input type="checkbox" id="str-luta-mt"> Mt</label>
                    <span>Luta</span>
                    <input type="number" id="str-luta" class="form-control" style="width: 80px;">
                </div>
                <div class="skill-row">
                    <label><input type="checkbox" id="str-atletismo-es"> Es</label>
                    <label><input type="checkbox" id="str-atletismo-mt"> Mt</label>
                    <span>Atletismo</span>
                    <input type="number" id="str-atletismo" class="form-control" style="width: 80px;">
                </div>
            </div>

            <div class="card section-border-purple">
                <h3>üèÉ Per√≠cias de Destreza</h3>
                <div class="skill-row">
                    <label><input type="checkbox" id="dex-luta-es"> Es</label>
                    <label><input type="checkbox" id="dex-luta-mt"> Mt</label>
                    <span>Luta</span>
                    <input type="number" id="dex-luta" class="form-control" style="width: 80px;">
                </div>
                <div class="skill-row">
                    <label><input type="checkbox" id="dex-furtividade-es"> Es</label>
                    <label><input type="checkbox" id="dex-furtividade-mt"> Mt</label>
                    <span>Furtividade</span>
                    <input type="number" id="dex-furtividade" class="form-control" style="width: 80px;">
                </div>
                <div class="skill-row">
                    <label><input type="checkbox" id="dex-pontaria-es"> Es</label>
                    <label><input type="checkbox" id="dex-pontaria-mt"> Mt</label>
                    <span>Pontaria</span>
                    <input type="number" id="dex-pontaria" class="form-control" style="width: 80px;">
                </div>
                <div class="skill-row">
                    <label><input type="checkbox" id="dex-prestidigitacao-es"> Es</label>
                    <label><input type="checkbox" id="dex-prestidigitacao-mt"> Mt</label>
                    <span>Prestidigita√ß√£o</span>
                    <input type="number" id="dex-prestidigitacao" class="form-control" style="width: 80px;">
                </div>
                <div class="skill-row">
                    <label><input type="checkbox" id="dex-reflexos-es"> Es</label>
                    <label><input type="checkbox" id="dex-reflexos-mt"> Mt</label>
                    <span>Reflexos</span>
                    <input type="number" id="dex-reflexos" class="form-control" style="width: 80px;">
                </div>
            </div>

            <!-- Adicionar per√≠cias de Constitui√ß√£o, Sabedoria, Intelig√™ncia e Carisma seguindo o mesmo padr√£o -->

            <div class="navigation">
                <button type="button" class="btn btn--secondary" onclick="previousPage()">‚Üê Anterior</button>
                <span class="page-info">P√°gina <span id="nav-current-page">2</span> de 7</span>
                <button type="button" class="btn btn--primary" onclick="nextPage()">Pr√≥xima ‚Üí</button>
            </div>
        </div>

        <!-- ===== P√ÅGINA 3: COMBATE ===== -->
        <div id="page-3" class="page">
            <h2 class="section-header section-border-red">‚öîÔ∏è Valores de Combate</h2>

            <div class="card section-border-red">
                <h3> Pontos de Vida</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>M√°ximo</label>
                        <input type="number" id="hp-max" name="hp-max" value="100" class="form-control" onchange="updateProgressBar('hp')">
                    </div>
                    <div class="form-group">
                        <label>Atuais</label>
                        <input type="number" id="hp-current" name="hp-current" value="100" class="form-control" onchange="updateProgressBar('hp')">
                    </div>
                    <div class="form-group">
                        <label>Tempor√°rios</label>
                        <input type="number" id="hp-temp" name="hp-temp" value="0" class="form-control">
                    </div>
                </div>
                <div class="progress-bar">
                    <div id="hp-fill" class="progress-fill" style="width: 100%;">100/100</div>
                </div>
            </div>

            <div class="card section-border-red">
                <h3> Pontos de Energia</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>M√°ximo</label>
                        <input type="number" id="pe-max" name="pe-max" value="50" class="form-control" onchange="updateProgressBar('pe')">
                    </div>
                    <div class="form-group">
                        <label>Atuais</label>
                        <input type="number" id="pe-current" name="pe-current" value="50" class="form-control" onchange="updateProgressBar('pe')">
                    </div>
                    <div class="form-group">
                        <label>Tempor√°rios</label>
                        <input type="number" id="pe-temp" value="0" class="form-control">
                    </div>
                </div>
                <div class="progress-bar">
                    <div id="pe-fill" class="progress-fill" style="width: 100%;">50/50</div>
                </div>
            </div>

            <div class="card section-border-red">
                <h3>üëª Integridade da Alma</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>M√°ximo</label>
                        <input type="number" id="integrity-max" name="integrity-max" value="100" class="form-control" onchange="updateProgressBar('integrity')">
                    </div>
                    <div class="form-group">
                        <label>Atuais</label>
                        <input type="number" id="integrity-current" name="integrity-current" value="100" class="form-control" onchange="updateProgressBar('integrity')">
                    </div>
                    <div class="form-group">
                        <label>Tempor√°rios</label>
                        <input type="number" id="integrity-temp" name="integrity-temp" value="0" class="form-control">
                    </div>
                </div>
                <div class="progress-bar">
                    <div id="integrity-fill" class="progress-fill" style="width: 100%;">100/100</div>
                </div>
            </div>

            <div class="card section-border-red">
                <h3>üìä Outros Valores</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Deslocamento (metros)</label>
                        <input type="number" id="movement" name="movement" value="9" class="form-control">
                    </div>
                    <div class="form-group">
                        <label>Iniciativa</label>
                        <input type="number" id="initiative" name="initiative" class="form-control">
                    </div>
                    <div class="form-group">
                        <label>Aten√ß√£o</label>
                        <input type="number" id="attention" name="attention" class="form-control">
                    </div>
                </div>
            </div>

            <div class="navigation">
                <button type="button" class="btn btn--secondary" onclick="previousPage()">‚Üê Anterior</button>
                <span class="page-info">P√°gina 3 de 7</span>
                <button  class="btn btn--primary" onclick="nextPage()">Pr√≥xima ‚Üí</button>
            </div>
        </div>

        <!-- ===== P√ÅGINA 4: HABILIDADES ===== -->
        <div id="page-4" class="page">
            <h2 class="section-header section-border-orange">‚ú® Habilidades de Especializa√ß√£o</h2>

            <div class="card section-border-orange">
                <button class="btn-add" onclick="addAbility('abilities-list')">Adicionar Habilidade</button>
                <div id="abilities-list" style="margin-top: 20px;">
                    <!-- Habilidades adicionadas dinamicamente -->
                </div>
            </div>

            <div class="navigation">
                <button type="button" class="btn btn--secondary" onclick="previousPage()">‚Üê Anterior</button>
                <span class="page-info">P√°gina 4 de 7</span>
                <button type="button" class="btn btn--primary" onclick="nextPage()">Pr√≥xima ‚Üí</button>
            </div>
        </div>

        <!-- ===== P√ÅGINA 5: PERFIL AMALDI√áOADO ===== -->
        <div id="page-5" class="page">
            <h2 class="section-header section-border-indigo">üîÆ Perfil Amaldi√ßoado</h2>

            <div class="card section-border-indigo">
                <h3>üéñÔ∏è Talentos</h3>
                <button class="btn-add" onclick="addTalent()">Adicionar Talento</button>
                <div id="talents-list" style="margin-top: 20px;">
                    <!-- Talentos adicionados dinamicamente -->
                </div>
            </div>

            <div class="card section-border-indigo">
                <h3>üìä N√≠veis de Aptid√£o</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Energia</label>
                        <input type="number" min="0" max="5" value="0" class="form-control">
                    </div>
                    <div class="form-group">
                        <label>Controle/Leitura</label>
                        <input type="number" min="0" max="5" value="0" class="form-control">
                    </div>
                    <div class="form-group">
                        <label>Barreira</label>
                        <input type="number" min="0" max="5" value="0" class="form-control">
                    </div>
                    <div class="form-group">
                        <label>Dom√≠nio</label>
                        <input type="number" min="0" max="5" value="0" class="form-control">
                    </div>
                    <div class="form-group">
                        <label>Energia Reversa</label>
                        <input type="number" min="0" max="5" value="0" class="form-control">
                    </div>
                </div>
            </div>

            <div class="card section-border-indigo">
                <h3>üèãÔ∏è Treinamentos</h3>
                <button class="btn-add" onclick="addTraining()">Adicionar Treinamento</button>
                <div id="trainings-list" style="margin-top: 20px;">
                    <!-- Treinamentos adicionados dinamicamente -->
                </div>
            </div>

            <div class="navigation">
                <button type="button" class="btn btn--secondary" onclick="previousPage()">‚Üê Anterior</button>
                <span class="page-info">P√°gina 5 de 7</span>
                <button type="button" class="btn btn--primary" onclick="nextPage()">Pr√≥xima ‚Üí</button>
            </div>
        </div>

        <!-- ===== P√ÅGINA 6: T√âCNICA AMALDI√áOADA ===== -->
        <div id="page-6" class="page">
            <h2 class="section-header section-border-pink">üåÄ T√©cnica Amaldi√ßoada</h2>

            <div class="card section-border-pink">
                <div class="form-group">
                    <label class="form-label">Nome da T√©cnica</label>
                    <input type="text" id="technique-name" class="form-control" placeholder="Ex: Limitless, Ten Shadows, etc.">
                </div>

                <div class="form-group">
                    <label class="form-label">Funcionamento B√°sico</label>
                    <textarea id="technique-description" class="form-control" rows="5" placeholder="Descreva o funcionamento b√°sico da sua t√©cnica amaldi√ßoada..."></textarea>
                </div>
            </div>

            <div class="card section-border-pink">
                <h3>‚ú® Habilidades de T√©cnica</h3>
                <div class="tabs">
                    <button class="tab active">N√≠vel 0</button>
                    <button class="tab">N√≠vel 1</button>
                    <button class="tab">N√≠vel 2</button>
                    <button class="tab">N√≠vel 3</button>
                    <button class="tab">N√≠vel 4</button>
                    <button class="tab">N√≠vel 5</button>
                </div>
                <button class="btn-add" onclick="addAbility('technique-abilities')">Adicionar Habilidade de T√©cnica</button>
                <div id="technique-abilities" style="margin-top: 20px;">
                    <!-- Habilidades de t√©cnica adicionadas dinamicamente -->
                </div>
            </div>

            <div class="navigation">
                <button type="button" class="btn btn--secondary" onclick="previousPage()">‚Üê Anterior</button>
                <span class="page-info">P√°gina 6 de 7</span>
                <button type="button" class="btn btn--primary" onclick="nextPage()">Pr√≥xima ‚Üí</button>
            </div>
        </div>

        <!-- ===== P√ÅGINA 7: INVOCA√á√ïES ===== -->
        <div id="page-7" class="page">
            <h2 class="section-header section-border-cyan">üëπ Invoca√ß√µes / Shikigamis</h2>

            <div class="card section-border-cyan">
                <button class="btn-add" onclick="addInvocation()">Adicionar Invoca√ß√£o</button>
                <div id="invocations-list" style="margin-top: 20px;">
                    <!-- Invoca√ß√µes adicionadas dinamicamente -->
                </div>
            </div>

            <div class="navigation">
                <button class="btn btn--secondary" onclick="previousPage()">‚Üê Anterior</button>
                <span class="page-info">P√°gina 7 de 7</span>
                <button class="btn btn--primary" onclick="nextPage()" disabled>Pr√≥xima ‚Üí</button>
            </div>
        </div>

    </div>
    </form>
    <!-- Bot√£o D20 Flutuante -->
    <div class="d20-container">
        <button class="d20-btn" onclick="rollD20()" title="Rolar D20">üé≤</button>
    </div>

    <!-- Modal D20 -->
    <div class="modal" id="dice-modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeDiceModal()">√ó</button>
            <h2>üé≤ Rolagem de D20</h2>
            <div class="form-group">
                <label>B√¥nus/Modificador</label>
                <input type="number" id="dice-bonus" value="0" class="form-control" style="width: 100px; margin: 0 auto;">
            </div>
            <div class="dice-result" id="dice-result" style="font-size: 4em; text-align: center; margin: 20px 0; font-weight: bold;">--</div>
            
            <div class="dice-history-container">
                <label class="form-label" style="text-align: center; display: block;">√öltimas Rolagens:</label>
                <div id="dice-history" class="dice-history">
                    </div>
            </div>
            <button class="btn btn--primary" onclick="rollD20()">üé≤ Rolar Novamente</button>
        </div>
    </div>
    
    <script>
document.getElementById("character-form").addEventListener("keydown", e => {
    if (e.key === "Enter") e.preventDefault();
});
</script>

    <script src="script_melhorado.js"></script>
</body>
</html>
