<!DOCTYPE html>
<html lang="pt-BR" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- CSS Global (SEMPRE PRIMEIRO) -->
    <link rel="stylesheet" href="../../CSS/EstilosGlobais/GlobalStylesConfigurationCss.css">
    <!-- CSS da p√°gina -->
    <link rel="stylesheet" href="../../CSS/TelaPrinciapal/Configura√ß√£o/stylesConfiguracao.css">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    
    <!-- JavaScript Global (SEMPRE PRIMEIRO - sem defer) -->
    <script src="../../JavaScript/Configura√ß√µesGlobais/GlobaConfigurationlJavaScript.js"></script>
    
    <!-- JavaScript da p√°gina -->
    <script src="../../JavaScript/Configura√ß√£o/Configuracao.js" defer></script>
    
    <title data-translate="title">Configura√ß√µes</title>
</head>
<body>
    <h1 data-translate="title">Configura√ß√µes</h1>

    <div class="CaixaConfig">
        <!-- Modo Escuro -->
        <div class="option-item">
            <span data-translate="darkMode">Modo escuro</span>
            <label class="switch">
                <input type="checkbox" id="darkModeToggle">
                <span class="slider"></span>
            </label>
        </div>

        <!-- Anima√ß√£o do Carrossel -->
        <div class="option-item">
            <span data-translate="carousel">Anima√ß√£o do carrossel</span>
            <label class="switch">
                <input type="checkbox" id="carouselToggle">
                <span class="slider"></span>
            </label>
        </div>

        <!-- Guia -->
        <div class="option-item">
            <span data-translate="guide">Guia</span>
            <label class="switch">
                <input type="checkbox" id="guideToggle">
                <span class="slider"></span>
            </label>
        </div>

        <!-- Alertas -->
        <div class="option-item">
            <span data-translate="alerts">Alertas</span>
            <label class="switch">
                <input type="checkbox" id="alertsToggle">
                <span class="slider"></span>
            </label>
        </div>

        <!-- Idioma -->
        <div class="option-item">
            <span data-translate="language">Idioma</span>
            <button id="openLanguageModal" class="config-button">
                <span id="currentLanguage">Portugu√™s (BR)</span>
            </button>
        </div>

        <!-- Fonte e Acessibilidade -->
        <div class="option-item">
            <span data-translate="accessibility">Fonte e Acessibilidade</span>
            <button id="openAccessibilityModal" class="config-button">
                Configurar
            </button>
        </div>

        <!-- Bot√µes de A√ß√£o -->
        <button id="saveChanges" class="action-button save" data-translate="saveChanges">
            Salvar altera√ß√µes
        </button>
        <button id="restoreChanges" class="action-button restore" data-translate="restoreChanges">
            Voltar para os padr√µes iniciais
        </button>
        <button id="backToMain" class="action-button back" data-translate="backToMain">
            Retornar para o lobby
        </button>
    </div>

    <!-- Link do Guia (IGUAL AO INDEX.PHP) -->
    <a href="#" class="guide-trigger" onclick="toggleGuide(); return false;">
        <img src="../../img/image-Photoroom (1).png" alt="Guia" />
        <span data-translate="guia">Guia</span>
    </a>

    <!-- Bal√£o de fala do guia (ID√äNTICO AO INDEX.PHP) -->
    <div id="guideSpeech" class="guide-speech" role="dialog" aria-modal="true" aria-labelledby="guideTitle">
        <div class="guide-speech-header">
            <div class="guide-speech-title" id="guideTitle" data-translate="guide_title">
                Hef√©lio, o Guia
            </div>
            <button class="guide-speech-close" onclick="closeGuide()" aria-label="Fechar">√ó</button>
        </div>
        <div class="guide-speech-content" id="guideContent" data-translate="guide_intro_config">
            Ol√°! üëã Aqui voc√™ pode configurar o tema, alertas, idioma e acessibilidade. Escolha um t√≥pico abaixo para entender cada op√ß√£o.
        </div>
        <div class="guide-speech-options">
            <button class="guide-option" onclick="showGuideInfo('dark')" data-translate="guide_opt_dark">üåì Modo escuro</button>
            <button class="guide-option" onclick="showGuideInfo('carousel')" data-translate="guide_opt_carousel">üé† Carrossel</button>
            <button class="guide-option" onclick="showGuideInfo('guide')" data-translate="guide_opt_guide">üéì Guia</button>
            <button class="guide-option" onclick="showGuideInfo('alerts')" data-translate="guide_opt_alerts">üîî Alertas</button>
            <button class="guide-option" onclick="showGuideInfo('language')" data-translate="guide_opt_language">üåê Idioma</button>
            <button class="guide-option" onclick="showGuideInfo('accessibility')" data-translate="guide_opt_accessibility">‚ôø Acessibilidade</button>
            <button class="guide-option" onclick="showGuideInfo('save')" data-translate="guide_opt_save">üíæ Salvar</button>
            <button class="guide-option" onclick="showGuideInfo('restore')" data-translate="guide_opt_restore">‚ôªÔ∏è Restaurar</button>
            <button class="guide-option" onclick="showGuideInfo('back')" data-translate="guide_opt_back">üè† Voltar</button>
        </div>
    </div>

    <!-- Modal de Idioma -->
    <div id="languageModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeModal">&times;</span>
            <h2 data-translate="selectLanguage">Selecione o idioma</h2>
            <div class="lang-options">
                <div class="lang-option" data-lang="pt-BR">Portugu√™s (BR)</div>
                <div class="lang-option" data-lang="en-US">English (US)</div>
                <div class="lang-option" data-lang="es-ES">Espa√±ol (ES)</div>
            </div>
            <button id="saveLanguage" class="modal-button" data-translate="save">Salvar</button>
        </div>
    </div>

    <!-- Modal de Acessibilidade -->
    <div id="accessibilityModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeAccessibilityModal">&times;</span>
            <h2 data-translate="fontAccessibilityTitle">Fonte e Acessibilidade</h2>
            
            <div class="accessibility-options">
                <div class="accessibility-item">
                    <label data-translate="fontSize">Tamanho da fonte:</label>
                    <select id="fontSizeSelect">
                        <option value="14">Pequena (14px)</option>
                        <option value="16" selected>M√©dia (16px)</option>
                        <option value="18">Grande (18px)</option>
                        <option value="20">Muito Grande (20px)</option>
                    </select>
                </div>

                <div class="accessibility-item">
                    <label data-translate="fontType">Tipo da fonte:</label>
                    <select id="fontTypeSelect">
                        <option value="OpenDyslexic" selected>OpenDyslexic (Dislexia)</option>
                        <option value="Arial">Arial</option>
                        <option value="Verdana">Verdana</option>
                        <option value="Georgia">Georgia</option>
                    </select>
                </div>

                <div class="accessibility-item">
                    <label data-translate="lineSpacing">Espa√ßamento entre linhas:</label>
                    <select id="lineSpacingSelect">
                        <option value="1.2">Pequeno (1.2)</option>
                        <option value="1.5" selected>M√©dio (1.5)</option>
                        <option value="1.8">Grande (1.8)</option>
                        <option value="2.0">Muito Grande (2.0)</option>
                    </select>
                </div>

                <div class="accessibility-item">
                    <label data-translate="highContrast">Modo alto contraste:</label>
                    <button id="toggleContrast" class="toggle-button">Ativar</button>
                </div>

                <div class="accessibility-item">
                    <label data-translate="autoRead">Modo de leitura autom√°tica:</label>
                    <button id="toggleAutoRead" class="toggle-button">Ativar</button>
                </div>

                <div id="accessibilityWarning" class="warning-message" style="display: none;"></div>
            </div>

            <button id="saveAccessibility" class="modal-button" data-translate="save">Salvar</button>
        </div>
    </div>

    <!-- Overlay de fundo para desfoque do modal de alerta -->
    <div id="alertsWarningBackdrop" class="modal-backdrop" style="display:none;"></div>
    <!-- Modal de Aviso de Alertas -->
    <div id="alertsWarningModal" class="modal alerts-warning-modal">
        <div class="modal-content warning-content">
            <h2 data-translate="alertsWarningTitle">‚ö†Ô∏è Aviso Importante</h2>
            <p data-translate="alertsWarningMessage">
                Ao desativar os alertas, voc√™ n√£o receber√° mais notifica√ß√µes importantes do sistema, incluindo:
            </p>
            <ul class="warning-list">
                <li data-translate="alertsWarningItem1">Avisos de seguran√ßa</li>
                <li data-translate="alertsWarningItem2">Notifica√ß√µes de erro</li>
                <li data-translate="alertsWarningItem3">Confirma√ß√µes de a√ß√µes importantes</li>
                <li data-translate="alertsWarningItem4">Mensagens de valida√ß√£o</li>
            </ul>
            <p class="warning-question" data-translate="alertsWarningQuestion">
                Isso pode ser prejudicial para sua experi√™ncia no site. Tem certeza que deseja continuar?
            </p>
            <div class="warning-buttons">
                <button id="confirmDisableAlerts" class="modal-button danger" data-translate="confirmDisable">
                    Sim, desativar alertas
                </button>
                <button id="cancelDisableAlerts" class="modal-button" data-translate="cancel">
                    Cancelar
                </button>
            </div>
        </div>
    </div>
    <script>
    // Exibe/oculta o overlay junto com o modal de alerta
    document.addEventListener('DOMContentLoaded', function() {
        const modal = document.getElementById('alertsWarningModal');
        const backdrop = document.getElementById('alertsWarningBackdrop');
        const showBackdrop = () => { backdrop.style.display = 'block'; };
        const hideBackdrop = () => { backdrop.style.display = 'none'; };
        // Observa mudan√ßas de visibilidade do modal
        const observer = new MutationObserver(() => {
            if (modal.style.display === 'block' || getComputedStyle(modal).display === 'block') {
                showBackdrop();
            } else {
                hideBackdrop();
            }
        });
        observer.observe(modal, { attributes: true, attributeFilter: ['style', 'class'] });
        // Garante que ao fechar pelo bot√£o, o overlay suma
        document.getElementById('cancelDisableAlerts').addEventListener('click', hideBackdrop);
        document.getElementById('confirmDisableAlerts').addEventListener('click', hideBackdrop);
    });
    </script>
</body>
</html>